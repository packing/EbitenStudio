# æ–°å¢åŠŸèƒ½è¯´æ˜

## âœ… å·²å®ç°çš„ä¸¤ä¸ªåŠŸèƒ½

### 1. Margin å¯è§†åŒ–å±•ç° ğŸ¨

**å®ç°æ–¹å¼:**
- å½“æ§ä»¶è¢«é€‰ä¸­æ—¶,å¦‚æœè®¾ç½®äº† margin å€¼,ä¼šåœ¨ç”»å¸ƒä¸Šæ˜¾ç¤ºæ©™è‰²è™šçº¿æ¡†
- è™šçº¿æ¡†è¡¨ç¤º margin çš„å¤–è¾¹ç•ŒåŒºåŸŸ

**è§†è§‰æ•ˆæœ:**
```
â”Œâ”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€â”  â† æ©™è‰²è™šçº¿ (margin å¤–è¾¹ç•Œ)
â”‚   margin: 5px       â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“   â”‚
â”‚  â”ƒ æ§ä»¶å®é™…åŒºåŸŸ  â”ƒ   â”‚  â† å®çº¿è¾¹æ¡†
â”‚  â”ƒ  padding: 10  â”ƒ   â”‚
â”‚  â”ƒ   [å†…å®¹åŒº]    â”ƒ   â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›   â”‚
â””â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€â”˜
```

**æµ‹è¯•æ­¥éª¤:**
1. åˆ›å»ºä¸€ä¸ªæ§ä»¶(å¦‚æŒ‰é’®)
2. é€‰ä¸­è¯¥æ§ä»¶
3. åœ¨å³ä¾§å±æ€§é¢æ¿æ‰¾åˆ° "å¤–è¾¹è· (Margin)" åŒºåŸŸ
4. è®¾ç½® margin å€¼(å¦‚: ä¸Š10, å³10, ä¸‹10, å·¦10)
5. è§‚å¯Ÿç”»å¸ƒä¸Šå‡ºç°çš„æ©™è‰²è™šçº¿æ¡†

**ä»£ç ä½ç½®:**
- `frontend/src/js/widgets/base.js` - Widget.render() æ–¹æ³•

---

### 2. ä¾§è¾¹æ å¯è°ƒæ•´å®½åº¦ â†”ï¸

**å®ç°æ–¹å¼:**
- åœ¨å·¦å³ä¾§è¾¹æ çš„è¾¹ç¼˜æ·»åŠ äº†æ‹–æ‹½æ‰‹æŸ„
- é¼ æ ‡æ‚¬åœåœ¨è¾¹ç¼˜æ—¶ä¼šé«˜äº®æ˜¾ç¤º(è“è‰²)
- æ‹–æ‹½å¯è°ƒæ•´ä¾§è¾¹æ å®½åº¦

**é™åˆ¶èŒƒå›´:**
- æœ€å°å®½åº¦: **200px**
- æœ€å¤§å®½åº¦: **500px**
- é»˜è®¤å®½åº¦: **250px**

**ä½¿ç”¨æ–¹æ³•:**
1. å°†é¼ æ ‡ç§»åˆ°å·¦ä¾§è¾¹æ çš„å³è¾¹ç¼˜(æˆ–å³ä¾§è¾¹æ çš„å·¦è¾¹ç¼˜)
2. é¼ æ ‡æŒ‡é’ˆä¼šå˜æˆåŒå‘ç®­å¤´ â†”ï¸
3. æŒ‰ä½é¼ æ ‡å·¦é”®æ‹–æ‹½
4. é‡Šæ”¾é¼ æ ‡å®Œæˆè°ƒæ•´

**è§†è§‰åé¦ˆ:**
- é¼ æ ‡æ‚¬åœ: è¾¹ç¼˜æ˜¾ç¤ºè“è‰²çº¿æ¡
- æ‹–æ‹½ä¸­: ä¿æŒè“è‰²é«˜äº® + é¼ æ ‡å˜ä¸º col-resize

**ä»£ç ä½ç½®:**
- CSS: `frontend/src/styles/app.css` - .resize-handle æ ·å¼
- JS: `frontend/src/js/sidebar-resizer.js` - SidebarResizer ç±»
- HTML: `frontend/src/index.html` - æ·»åŠ äº† resize-handle å…ƒç´ 

---

## ğŸ”„ éœ€è¦é‡å¯åº”ç”¨

ç”±äºä¿®æ”¹äº† HTML å’Œ CSS,éœ€è¦é‡å¯ Electron åº”ç”¨æ‰èƒ½çœ‹åˆ°æ–°åŠŸèƒ½:

```powershell
# å…³é—­å½“å‰è¿è¡Œçš„åº”ç”¨
# ç„¶åé‡æ–°å¯åŠ¨
cd H:\e_code_backup\github\repo\EbitenStudio\frontend
npm start
```

---

## ğŸ¯ åŠŸèƒ½æ¼”ç¤º

### Margin å¯è§†åŒ–æµ‹è¯•

**åœºæ™¯ 1: æ—  margin**
- é€‰ä¸­æ§ä»¶: åªæ˜¾ç¤ºæ§ä»¶æœ¬èº«å’Œè°ƒæ•´æ‰‹æŸ„
- æ²¡æœ‰é¢å¤–çš„è™šçº¿æ¡†

**åœºæ™¯ 2: æœ‰ margin**
- è®¾ç½® margin (å¦‚ 10px)
- é€‰ä¸­æ§ä»¶: æ˜¾ç¤ºæ©™è‰²è™šçº¿æ¡†å›´ç»•æ§ä»¶
- è™šçº¿æ¡†ä¸æ§ä»¶è¾¹ç¼˜çš„è·ç¦» = margin å€¼

**åœºæ™¯ 3: ä¸åŒæ–¹å‘çš„ margin**
- ä¸Š: 20px, å³: 10px, ä¸‹: 20px, å·¦: 10px
- è™šçº¿æ¡†ä¼šæ ¹æ®å„æ–¹å‘çš„ margin å€¼æ­£ç¡®æ˜¾ç¤º

### ä¾§è¾¹æ è°ƒæ•´æµ‹è¯•

**å·¦ä¾§è¾¹æ  (ç»„ä»¶æ ‘ + èµ„æºç®¡ç†):**
1. æ‚¬åœåœ¨å³è¾¹ç¼˜
2. çœ‹åˆ°è“è‰²é«˜äº®çº¿
3. å‘å³æ‹–åŠ¨ â†’ å˜å®½
4. å‘å·¦æ‹–åŠ¨ â†’ å˜çª„
5. è¶…è¿‡èŒƒå›´ä¼šåœåœ¨ min/max è¾¹ç•Œ

**å³ä¾§è¾¹æ  (å±æ€§é¢æ¿):**
1. æ‚¬åœåœ¨å·¦è¾¹ç¼˜
2. çœ‹åˆ°è“è‰²é«˜äº®çº¿
3. å‘å·¦æ‹–åŠ¨ â†’ å˜å®½
4. å‘å³æ‹–åŠ¨ â†’ å˜çª„
5. åŒæ ·å— min/max é™åˆ¶

---

## ğŸ“ æŠ€æœ¯ç»†èŠ‚

### Margin æ¸²æŸ“é€»è¾‘

```javascript
// åœ¨ Widget.render() ä¸­
if (selected && (hasAnyMargin)) {
  ctx.strokeStyle = 'rgba(255, 165, 0, 0.5)'; // æ©™è‰²åŠé€æ˜
  ctx.setLineDash([4, 4]); // è™šçº¿æ ·å¼
  ctx.lineWidth = 1;
  
  // è®¡ç®— margin å¤–è¾¹ç•Œ
  const marginX = x - this.margin.left;
  const marginY = y - this.margin.top;
  const marginWidth = width + this.margin.left + this.margin.right;
  const marginHeight = height + this.margin.top + this.margin.bottom;
  
  ctx.strokeRect(marginX, marginY, marginWidth, marginHeight);
  ctx.setLineDash([]); // é‡ç½®è™šçº¿
}
```

**æ³¨æ„äº‹é¡¹:**
- åªåœ¨æ§ä»¶**è¢«é€‰ä¸­**æ—¶æ˜¾ç¤º margin
- é¿å…åœ¨æ‰€æœ‰æ§ä»¶ä¸Šéƒ½æ˜¾ç¤º,ä¿æŒç”»å¸ƒæ•´æ´
- ä½¿ç”¨åŠé€æ˜æ©™è‰²,ä¸ä¼šé®æŒ¡å†…å®¹

### ä¾§è¾¹æ æ‹–æ‹½é€»è¾‘

```javascript
class SidebarResizer {
  startResize(e, sidebar, side) {
    // è®°å½•èµ·å§‹ä½ç½®å’Œå®½åº¦
    this.startX = e.clientX;
    this.startWidth = parseInt(window.getComputedStyle(sidebar).width, 10);
  }
  
  resize(e) {
    // è®¡ç®—æ–°å®½åº¦
    const delta = (side === 'left') 
      ? e.clientX - this.startX        // å·¦ä¾§: å‘å³ä¸ºæ­£
      : this.startX - e.clientX;       // å³ä¾§: å‘å·¦ä¸ºæ­£
    
    let newWidth = this.startWidth + delta;
    
    // é™åˆ¶èŒƒå›´
    newWidth = Math.max(minWidth, Math.min(maxWidth, newWidth));
    
    sidebar.style.width = newWidth + 'px';
  }
}
```

**CSS å…³é”®ç‚¹:**
```css
.sidebar {
  min-width: 200px;  /* æœ€å°å®½åº¦ */
  max-width: 500px;  /* æœ€å¤§å®½åº¦ */
  position: relative; /* ä¸º handle å®šä½ */
}

.resize-handle {
  position: absolute;
  width: 4px;
  cursor: col-resize; /* é¼ æ ‡æ ·å¼ */
}

.resize-handle:hover {
  background: #007acc; /* æ‚¬åœé«˜äº® */
}
```

---

## ğŸ› å·²çŸ¥é—®é¢˜å’Œé™åˆ¶

### Margin å¯è§†åŒ–
- âœ… ä»…åœ¨é€‰ä¸­æ—¶æ˜¾ç¤º(è®¾è®¡å¦‚æ­¤)
- âœ… ä¸å½±å“æ§ä»¶å¸ƒå±€(ä»…è§†è§‰æç¤º)
- â³ æœªæ¥å¯å®ç°è‡ªåŠ¨å¸ƒå±€æ—¶ä½¿ç”¨ margin è®¡ç®—é—´è·

### ä¾§è¾¹æ è°ƒæ•´
- âœ… å®½åº¦ä¸ä¼šæŒä¹…åŒ–(åˆ·æ–°åæ¢å¤é»˜è®¤)
- â³ æœªæ¥å¯æ·»åŠ åˆ°ç”¨æˆ·è®¾ç½®ä¸­ä¿å­˜
- âœ… ä¸¤ä¸ªä¾§è¾¹æ ç‹¬ç«‹è°ƒæ•´,äº’ä¸å½±å“

---

## ğŸ‰ æ€»ç»“

ä¸¤ä¸ªåŠŸèƒ½éƒ½å·²å®Œæ•´å®ç°:

1. **Margin å¯è§†åŒ–** âœ…
   - æ©™è‰²è™šçº¿æ¡†
   - ä»…åœ¨é€‰ä¸­æ—¶æ˜¾ç¤º
   - å‡†ç¡®åæ˜  margin å€¼

2. **ä¾§è¾¹æ å¯è°ƒæ•´å®½åº¦** âœ…
   - å·¦å³è¾¹ç¼˜æ‹–æ‹½
   - 200px - 500px èŒƒå›´
   - è§†è§‰åé¦ˆæ¸…æ™°

**é‡å¯åº”ç”¨åå³å¯ä½¿ç”¨!**
