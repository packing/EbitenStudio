# EbitenStudio è„šæœ¬ç³»ç»Ÿå®æ–½è®°å½•

## ç›®å½•è¯´æ˜

æœ¬ç›®å½•ç”¨äºè®°å½•è„šæœ¬ç³»ç»Ÿçš„å®Œæ•´å®æ–½è¿‡ç¨‹ï¼ŒåŒ…æ‹¬æ¯ä¸ªé˜¶æ®µçš„å®æ–½æ­¥éª¤ã€ä»£ç å˜æ›´ã€æµ‹è¯•ç»“æœç­‰ã€‚

## å®æ–½è®¡åˆ’æ¦‚è§ˆ

æ ¹æ® [SCRIPT_SYSTEM_DESIGN.md](../SCRIPT_SYSTEM_DESIGN.md)ï¼Œæ•´ä¸ªå®æ–½åˆ†ä¸º 8 ä¸ªé˜¶æ®µï¼š

### Phase 1: äº‹ä»¶é˜Ÿåˆ—å’Œå‘½ä»¤é˜Ÿåˆ—ï¼ˆ2-3å¤©ï¼‰
- **ç›®æ ‡**ï¼šå®ç°åŸºç¡€çš„äº‹ä»¶é˜Ÿåˆ—å’Œå‘½ä»¤é˜Ÿåˆ—ï¼Œå»ºç«‹Goä¸»çº¿ç¨‹ä¸è„šæœ¬åç¨‹çš„é€šä¿¡æœºåˆ¶
- **æ–‡æ¡£**ï¼š[phase1-queues.md](./phase1-queues.md)
- **çŠ¶æ€**ï¼šâœ… å·²å®Œæˆ

### Phase 2: è„šæœ¬å¼•æ“éª¨æ¶ï¼ˆ2å¤©ï¼‰
- **ç›®æ ‡**ï¼šå®ç°ScriptEngineåŸºç¡€ç»“æ„ï¼Œé›†æˆgojaè¿è¡Œæ—¶
- **æ–‡æ¡£**ï¼š[phase2-engine.md](./phase2-engine.md)
- **çŠ¶æ€**ï¼šâœ… å·²å®Œæˆ

### Phase 3: æŒä¹…åŒ–VMå’ŒAPIæ³¨å…¥ï¼ˆ3å¤©ï¼‰
- **ç›®æ ‡**ï¼šå®ç°æŒä¹…VMã€å…¨å±€çŠ¶æ€ç®¡ç†ã€JavaScript APIæ³¨å…¥
- **æ–‡æ¡£**ï¼š[phase3-vm-api.md](./phase3-vm-api.md)
- **çŠ¶æ€**ï¼šâ³ å¾…å¼€å§‹

### Phase 4: UIæ ‘æ„å»ºå’Œä»£ç†å¯¹è±¡ï¼ˆ3å¤©ï¼‰
- **ç›®æ ‡**ï¼šå®ç°UIæ ‘æ„å»ºç³»ç»Ÿ(BuildUITree)ã€RootElementä»£ç†å¯¹è±¡
- **æ–‡æ¡£**ï¼š[phase4-ui-tree.md](./phase4-ui-tree.md)
- **çŠ¶æ€**ï¼šâ³ å¾…å¼€å§‹

### Phase 5: TypeScriptç±»å‹å®šä¹‰ç”Ÿæˆå™¨ï¼ˆ2å¤©ï¼‰
- **ç›®æ ‡**ï¼šå®ç°è‡ªåŠ¨ç”Ÿæˆ.d.tsæ–‡ä»¶çš„Goä»£ç 
- **æ–‡æ¡£**ï¼š[phase5-typescript-gen.md](./phase5-typescript-gen.md)
- **çŠ¶æ€**ï¼šâ³ å¾…å¼€å§‹

### Phase 6: ç¼–è¾‘å™¨UIé›†æˆ + TypeScriptç¼–è¯‘å™¨ï¼ˆ4å¤©ï¼‰
- **ç›®æ ‡**ï¼šå®ç°è„šæœ¬é¢æ¿UIã€TypeScriptç¼–è¯‘å™¨é›†æˆã€æ–‡ä»¶ç›‘è§†
- **æ–‡æ¡£**ï¼š[phase6-editor-integration.md](./phase6-editor-integration.md)
- **çŠ¶æ€**ï¼šâ³ å¾…å¼€å§‹

### Phase 7: æµ‹è¯•å’Œä¼˜åŒ–ï¼ˆ3å¤©ï¼‰
- **ç›®æ ‡**ï¼šå®Œæ•´æµ‹è¯•ã€æ€§èƒ½ä¼˜åŒ–ã€å†…å­˜æ³„æ¼æ£€æµ‹
- **æ–‡æ¡£**ï¼š[phase7-testing.md](./phase7-testing.md)
- **çŠ¶æ€**ï¼šâ³ å¾…å¼€å§‹

### Phase 8: æ–‡æ¡£å’Œç¤ºä¾‹ï¼ˆ2å¤©ï¼‰
- **ç›®æ ‡**ï¼šç¼–å†™ç”¨æˆ·æ–‡æ¡£ã€åˆ›å»ºç¤ºä¾‹é¡¹ç›®
- **æ–‡æ¡£**ï¼š[phase8-documentation.md](./phase8-documentation.md)
- **çŠ¶æ€**ï¼šâ³ å¾…å¼€å§‹

## å®æ–½åŸåˆ™

1. **å¢é‡å¼€å‘**ï¼šæ¯ä¸ªé˜¶æ®µå®Œæˆåå¿…é¡»å¯è¿è¡Œå’Œæµ‹è¯•
2. **æ–‡æ¡£å…ˆè¡Œ**ï¼šæ¯ä¸ªé˜¶æ®µå¼€å§‹å‰å…ˆæ›´æ–°å®æ–½æ–‡æ¡£
3. **ä»£ç å®¡æŸ¥**ï¼šå…³é”®ä»£ç å˜æ›´è®°å½•åˆ°å®æ–½æ–‡æ¡£ä¸­
4. **æµ‹è¯•é©±åŠ¨**ï¼šæ¯ä¸ªåŠŸèƒ½éƒ½éœ€è¦ç¼–å†™æµ‹è¯•ç”¨ä¾‹
5. **å‘åå…¼å®¹**ï¼šä¿è¯ç°æœ‰UIåº“åŠŸèƒ½ä¸å—å½±å“

## ç›®å½•ç»“æ„

```
implementation/
â”œâ”€â”€ README.md                   # æœ¬æ–‡ä»¶ - æ€»ä½“è§„åˆ’
â”œâ”€â”€ phase1-queues.md           # Phase 1 å®æ–½è®°å½•
â”œâ”€â”€ phase2-engine.md           # Phase 2 å®æ–½è®°å½•
â”œâ”€â”€ phase3-vm-api.md           # Phase 3 å®æ–½è®°å½•
â”œâ”€â”€ phase4-ui-tree.md          # Phase 4 å®æ–½è®°å½•
â”œâ”€â”€ phase5-typescript-gen.md   # Phase 5 å®æ–½è®°å½•
â”œâ”€â”€ phase6-editor-integration.md  # Phase 6 å®æ–½è®°å½•
â”œâ”€â”€ phase7-testing.md          # Phase 7 å®æ–½è®°å½•
â”œâ”€â”€ phase8-documentation.md    # Phase 8 å®æ–½è®°å½•
â”œâ”€â”€ code-changes.md            # ä»£ç å˜æ›´æ±‡æ€»
â”œâ”€â”€ issues.md                  # é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ
â””â”€â”€ testing-log.md             # æµ‹è¯•è®°å½•
```

## ä»£ç ç»„ç»‡

### æ–°å¢æ–‡ä»¶ä½ç½®

```
ui/                             # UIåº“ç›®å½•ï¼ˆGoï¼‰
â”œâ”€â”€ script_engine.go           # è„šæœ¬å¼•æ“æ ¸å¿ƒ
â”œâ”€â”€ event_queue.go             # äº‹ä»¶é˜Ÿåˆ—
â”œâ”€â”€ command_queue.go           # å‘½ä»¤é˜Ÿåˆ—
â”œâ”€â”€ ui_tree_builder.go         # UIæ ‘æ„å»ºå™¨
â”œâ”€â”€ typescript_generator.go    # TypeScriptå®šä¹‰ç”Ÿæˆå™¨
â””â”€â”€ script_types.go            # ç±»å‹å®šä¹‰

frontend/src/js/               # ç¼–è¾‘å™¨å‰ç«¯ï¼ˆJavaScriptï¼‰
â”œâ”€â”€ ScriptCompiler.js          # TypeScriptç¼–è¯‘å™¨
â”œâ”€â”€ ScriptManager.js           # è„šæœ¬ç®¡ç†å™¨
â””â”€â”€ script-panel.js            # è„šæœ¬é¢æ¿UI

ui/examples/viewer/            # é¢„è§ˆç¨‹åº
â””â”€â”€ script_integration.go      # è„šæœ¬é›†æˆç¤ºä¾‹
```

## å…³é”®è®¾è®¡å†³ç­–

| å†³ç­– | è¯´æ˜ | æ–‡æ¡£ |
|------|------|------|
| ä½¿ç”¨goja | Goçš„JavaScriptè§£é‡Šå™¨ï¼ŒES2015+æ”¯æŒ | SCRIPT_SYSTEM_DESIGN.md |
| æŒä¹…VM | å•ä¸€goja.Runtimeï¼Œé¿å…é‡å»ºå¼€é”€ | Phase 3 |
| å‘½ä»¤é˜Ÿåˆ— | è„šæœ¬åç¨‹â†’ä¸»çº¿ç¨‹çš„å¼‚æ­¥é€šä¿¡ | Phase 1 |
| TypeScriptä¼˜å…ˆ | å¼€å‘æ—¶ç±»å‹å®‰å…¨ï¼Œè¿è¡Œæ—¶çº¯JS | Phase 5, 6 |
| selfå‚æ•° | äº‹ä»¶å¤„ç†å™¨ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ§ä»¶æœ¬èº« | SELF_PARAMETER_DESIGN.md |
| UI*å‘½å | UIButton, UITextInputç­‰ï¼Œå»æ‰IxxxAPIé£æ ¼ | script-types.d.ts |

## æ—¶é—´çº¿

- **å¼€å§‹æ—¥æœŸ**ï¼š2025å¹´12æœˆ26æ—¥
- **é¢„è®¡å®Œæˆ**ï¼š2026å¹´1æœˆ15æ—¥ï¼ˆçº¦19-25å¤©ï¼‰
- **é‡Œç¨‹ç¢‘**ï¼š
  - Week 1: Phase 1-2 å®Œæˆï¼ˆäº‹ä»¶ç³»ç»Ÿ+å¼•æ“éª¨æ¶ï¼‰
  - Week 2: Phase 3-4 å®Œæˆï¼ˆVM+UIæ ‘ï¼‰
  - Week 3: Phase 5-6 å®Œæˆï¼ˆTypeScriptç”Ÿæˆ+ç¼–è¾‘å™¨ï¼‰
  - Week 4: Phase 7-8 å®Œæˆï¼ˆæµ‹è¯•+æ–‡æ¡£ï¼‰

## å¿«é€Ÿå¯¼èˆª

### å½“å‰è¿›åº¦

- âœ… **å·²å®Œæˆ**: Phase 1 - äº‹ä»¶é˜Ÿåˆ—å’Œå‘½ä»¤é˜Ÿåˆ—
- âœ… **å·²å®Œæˆ**: Phase 2 - è„šæœ¬å¼•æ“éª¨æ¶
- ğŸ”„ **è¿›è¡Œä¸­**: Phase 3 - æŒä¹…åŒ–VMå’ŒAPIæ³¨å…¥
- ğŸ“ **æœ€æ–°æ–‡æ¡£**: [phase3-vm-api.md](./phase3-vm-api.md)
- ğŸ” **æœ€æ–°å˜æ›´**: [code-changes.md](./code-changes.md)

### å¸¸è§é—®é¢˜

é‡åˆ°é—®é¢˜è¯·æŸ¥çœ‹ï¼š
1. [issues.md](./issues.md) - å·²çŸ¥é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ
2. [SCRIPT_SYSTEM_DESIGN.md](../SCRIPT_SYSTEM_DESIGN.md) - æ¶æ„è®¾è®¡
3. [EVENT_TARGET_DESIGN.md](../EVENT_TARGET_DESIGN.md) - event.targetè®¾è®¡
4. [SELF_PARAMETER_DESIGN.md](../SELF_PARAMETER_DESIGN.md) - selfå‚æ•°è®¾è®¡

## è´¡çŒ®è€…

- å¼€å§‹æ—¥æœŸï¼š2025å¹´12æœˆ26æ—¥
- å®æ–½è®°å½•ç»´æŠ¤è€…ï¼šGitHub Copilot

---

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**ï¼šå¼€å§‹ [Phase 1: äº‹ä»¶é˜Ÿåˆ—å’Œå‘½ä»¤é˜Ÿåˆ—](./phase1-queues.md)
